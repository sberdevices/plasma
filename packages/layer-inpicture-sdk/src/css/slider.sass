$SMALL_BOTTOM_CARD_BG: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.85) 100%)
$SMALL_BOTTOM_CARD_PRICE_COLOR: rgba(255, 255, 255, 0.96)

$BIG_BOTTOM_CARD_BG: #FFFFFF
$BIG_BOTTOM_CARD_PRICE_COLOR: #080808

@mixin big-card-size
    width: 150px !important
    height: 210px !important

@mixin minimal-card-desktop-size
    width: 111px
    height: 162px

@mixin minimal-card-mobile-size
    width: 74px
    height: 108px

@mixin primary-card-desktop-size
    width: 94px
    height: 138px

@mixin primary-card-mobile-size
    width: 74px
    height: 108px

@mixin secondary-card-mobile-size
    width: 166px
    height: 252px

@mixin big-card
    .layer
        &-swiper-slide-bottom
            &__bg
                background: $BIG_BOTTOM_CARD_BG
            &__price
                color: $BIG_BOTTOM_CARD_PRICE_COLOR
            &__name
                display: block
            &__shop-name
                display: block

@mixin adaptive-value($prop, $startSize, $minSize)
    $addSize: $startSize - $minSize

    #{$prop}: calc(#{$minSize + px} + #{$addSize} * ((100vw - 320px) / #{1920 - 320}))

@mixin shopName
    width: fit-content
    padding: 2px 6px
    margin: 0 0 8px 8px
    font-weight: 500
    font-size: 10px
    line-height: 12px
    letter-spacing: 0.0125em
    background: rgba(8, 8, 8, 0.56)
    color: #FFFFFF
    border-radius: 6px

@mixin name
    font-weight: 500
    font-size: 14px
    line-height: 20px
    letter-spacing: 0.0125em
    color: #080808
    margin-bottom: 12px
    height: 38px
    -webkit-line-clamp: 2
    -webkit-box-orient: vertical
    overflow: hidden

@mixin price
    font-weight: 600
    font-size: 16px
    color: $SMALL_BOTTOM_CARD_PRICE_COLOR
    margin-bottom: 4px
    line-height: initial

.layer
    &-container
        position: relative
        visibility: hidden
        font-family: SB Sans Text, sans-serif

    &-content
        position: absolute
        bottom: 0
        width: 100%
        &__drawer
            transition: all 0.5s


    &-swiper-wrapper
        align-items: flex-end !important
        @media (min-width: 768px)
            &:hover
                cursor: pointer !important

    &-slider-wrap
        position: absolute 
        overflow: hidden
        pointer-events: none

    &-main-container
        width: 100%
        opacity: 1
        z-index: 1
        font-size: 14px
        color: #000
        pointer-events: initial
        overflow: hidden
        position: relative
        bottom: 0

    &-main-container *
        box-sizing: border-box

    &-slider-top-content
        margin-bottom: 10px
        transition: opacity 0.5s

    &-swiper-slide
        display: flex
        flex-direction: column
        justify-content: space-between
        background: rgba(255, 255, 255, 0.96) !important
        border-radius: 8px
        font-size: 18px
        background: #fff
        overflow: hidden
        transition: all 0.5s !important
        border: 1px solid rgba(8, 8, 8, 0.12)
        &:not(:last-of-type)
            margin-right: 16px

    &-primary-wrap
        & .layer-swiper-slide
            @media (min-width: 768px)
                &:hover
                    @include big-card-size
                    @include big-card

    &-minimal-wrap
        .layer-swiper-slide
            @include minimal-card-mobile-size
            @media (min-width: 768px)
                @include minimal-card-desktop-size
        .layer-swiper-slide-bottom__price
            @media (max-width: 767.98px)
                font-weight: 500
                font-size: 12px
        .layer-swiper-slide-bottom__name
            @media (max-width: 767.98px)
                font-size: 12px
                font-weight: 400

    &-primary-wrap
        .layer-swiper-slide
            @include primary-card-mobile-size
            height: 108px
            @media (min-width: 768px)
                @include primary-card-desktop-size
        .layer-swiper-slide-bottom__price
            @media (max-width: 767.98px)
                font-weight: 500
                font-size: 12px
        .layer-swiper-button
            top: auto !important
            bottom: 30px
            @media (min-width: 768px)
                bottom: 45px

    &-secondary-wrap
        .layer-swiper-slide
            @include secondary-card-mobile-size
    
        .layer-swiper-slide-bottom__shop-name
            @include shopName
        
        .layer-swiper-slide-bottom__name
            @include name
        
        .layer-swiper-slide-bottom__price 
            @include price

    &-swiper-slide &-swiper-slide-bottom
        display: block
        position: absolute
        width: 100%
        bottom: 0

        &__bg
            background: $SMALL_BOTTOM_CARD_BG
            padding: 10px
            text-align: left
            transition: all 0.5s
            @media (max-width: 767.99px)
                padding: 8px 4px

        &_stub
            position: initial
            & .layer-swiper-slide-bottom__bg
                background-color: #ffffff

        @media (max-width: 767.99px)
            display: block
            padding: 0

    &-swiper-slide:hover &-swiper-slide-bottom
        @media (min-width: 768px)
            display: block

    &-swiper-slide img
        display: block
        width: 100%
        height: 100%
        object-fit: cover

    &-swiper-slide-bottom
        &__price
            @include price

        &__name
            @media (min-width: 768px)
                @include name
            &_minimal
                margin-bottom: 4px
                color: rgba(255, 255, 255, 0.96)
                font-weight: 400
                font-size: 14px
                height: auto
                text-overflow: ellipsis
                white-space: nowrap
                overflow: hidden

        &__shop-name
            display: none
            @media (min-width: 768px)
                @include shopName

        &_secondary
            @include big-card

    &-primary-wrap
        & .layer-swiper-slide-bottom__name
            display: none

    &-swiper-button
        &.swiper-button-disabled
            pointer-events: auto

    &-swiper-button-prev
        left: 16px

    &-swiper-button-next
        right: 16px

    &-swiper-button-prev, &-swiper-button-next
        cursor: pointer
        background-image: none

    &-swiper-button-prev img, &-swiper-button-next img
        max-width: initial
        width: 48px


    &-swiper-button-prev img
        transform: rotate(180deg)


    &-swiper-button-prev::after, &-swiper-button-next::after
        content: '' !important


    &-secondary-wrap
        overflow: hidden

        .layer-main-container
            position: relative
            bottom: 0

        .layer-swiper-slide
            @include big-card-size
            .layer-swiper-slide-bottom
                display: block

        .layer-swiper-button
            bottom: 80px

        .layer-secondary-top-content
            display: flex
            align-items: center
            margin-bottom: 12px
            @media (min-width: 768px)
                margin-bottom: 20px

            &__title
                color: #808080
                padding-right: 8px
                font-size: 16px
                line-height: 24px
                font-weight: 600
                    
            &__divider
                width: 1px
                height: 18px
                background-color: rgba(8, 8, 8, 0.28)

            &-logo
                display: flex
                align-items: center
                margin-left: 8px
                &__img
                    width: 16px
                    height: 16px
                    margin-right: 4px

            .layer-logo-text
                color: #808080
                font-size: 14px